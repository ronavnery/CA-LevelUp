(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],f=0,d=[];f<o.length;f++)i=o[f],s[i]&&d.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"05cd":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA3LTIyVDE5OjIzOjEyKzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wNy0yMlQxOTozMDo1OCswMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNy0yMlQxOTozMDo1OCswMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyYmI5NzY4My05ODgwLWJjNDYtOTU0Yi0yOTg0MmI5NGQyY2IiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowMjM0YjhmMi0wMWY5LWE4NDMtOTY2Ny1hZTg2ZWE0MGQ2OTYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZjM0MjNkMS0zZjhhLTU4NGItODNmOC1lZTk0NWQxOTIxZjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNmMzQyM2QxLTNmOGEtNTg0Yi04M2Y4LWVlOTQ1ZDE5MjFmMyIgc3RFdnQ6d2hlbj0iMjAxOS0wNy0yMlQxOToyMzoxMiswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyYmI5NzY4My05ODgwLWJjNDYtOTU0Yi0yOTg0MmI5NGQyY2IiIHN0RXZ0OndoZW49IjIwMTktMDctMjJUMTk6MzA6NTgrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7TCag5AAAFh0lEQVRogd2ae2xURRTGf3dRETAYW6DShj+oIAJVpG7L0igRFYMkKJRWJRoT0KgREF9VU6C8pJFAiBWa1EQ0RkzAFtqoBAPBVIl9bGkRpIEgliBpVaA8NMpjb/f6x/BYrjP3zr17NzF+SdPsN2fOnG9n7tw5Z9awLIv/A65L1kHbY1EMqwcjbhKyTAzL7GdYsUgobt5rWLHhobiZZlhmKGTFzobi5hHDijWF4uYuw4p1G5bJkO/fDEJH8kISUAgsAMYChoZ9B1DRWVC+LquhNJ7s4KFkHQBPAmeBzUAueiIAsoEKoKcrsmxBskEYfp+Rlul7Mw2rpzZkmfm2pYVhxQjFE/+bhP7FxS7xJkbcxLB6ukKWOTUjuqLNTzy+ZiRauH8CcAzIdzD7C2gF6oFvgGag28E+E2g9nvf2C35i8iykecaBycC3Dn13Ac8AA4EwMBF4EIgAA4ApQB1wUdG/6kS4xPMO4ElIU9GhCcA2RXMrcBcwAfgUOKew2wZMR8zAlwqblSfvec3TzGgLaSo63B/4XNFcifj2f/QwdjfwKPCKor2qO3d+ga4zLzNSBWRI+PeAuR78XIOshtIK4DlFc4WuHy0hjcUdk4CZkqYvgFcV3TKAxUDtJbs1wCiZYWZT2XpgqaQp3J07r0QnRt0ZeUvCWahn4iPgN2AJMA2YihDcjtjBbrV3GNy8dAnwg8TXvFNj5/RyC9BVSGNxRw5i17Fjebgu95iN6wPsA2Y5uJwI/AzkSNpWSrghwGy3OHVm5HkFv0HCbQXu1PDZF7Hcrhk/I7piI/CLxH6Sm0MdIXdLuPa82jE/SQabqOHvMoYC5RK+WsI9cmrsHNlGcwWOQhqLO24BRkua6iXcPCdfCtwv4Q5JuJuA+5wcuc3IKCBNwh+UcDpLyo5wZ0G5/Zs+obAd6uTITcgwBX/K9vl6oJ+LLxl6Af1t3HmF7c1OjtyE9FXwg2yfY8AfLr5kOA+c1BzT8YtyE9Kj4GXPTdTFlwy7sxpKT9s41UOtminAXYh9CV2GbHfSPk4k4CsJp3rWjjs5chMi20EAbmuZvtc+K83AZy7+ErEH2wvw9/wFfYAihf0+J2duQvYjcmsZXpRwTwM7XHwCHAUekPBPIXIWO9rT9lTudHLoKGR8dXYc+VYLMHf3tLYREv5hwOmg9yEiXz+TSP46bnFvoEzRZ6tTnKBXRfkOkdXJsAHIk/CrEQFHEMnWDcABoBHoUvh6H3GukqHeLUgdIR8jjti9JW1hYBPwhKTtDPD1pT9HdEWWLTTUZ7po2p5KVVZ6Ba5nrfHV2cdRp7cAj6Mx9Sp0FpSvApY7mGzW8aObj7htrVMQLzbZA6zCCESe/4aDzZ/Aeh1nWkLGV2fX475E0oGdiJ3uZcSBMPH40RtRPpqFSK4OIgp6TliX3rbWqYR0BV5KpmXAZA270VydwfOI+lcPompiP1c54Rjwjq6xdvEhUjOsBdjoIRCAG4HhwB14EwGwKL2t4m9dY68Fupew7f8pQs2A1jWfeOngSUik5vbTwEJPIXnHOeB1r508l0zHbR5ZiXhJpgoLB+5eJcvbHeH3WmEmcMFnXyfsGNTy7ho/HX0Jyd+S0wXM99PXBb4rlr4vevJqx3wAbPHbX4KSjOgKVdrgimRvrGYCnUn6ANg+uHnp6mQcJCUkXJd7EXlN2AsuIM9tPCGIO8RdiGK1X5RkNpUdSTaIIIQALENU3b1iU1ZD6dogAghKCIjb3aMe7DuBZ4MaPEghFxFXarqYjbgwDQRBCgFRGSnWsFsEbA9y4KCFANTgnPFtw8PxXBepEAIid6mR8Efwtvy0kSohIJbY3oTPMUSpKBVntJQKAXiIq4EXAodTNVCQvw6S4SQwAxiJvM4bGHz/qOa/hn8A83Bn5o2Po0EAAAAASUVORK5CYII="},"073e":function(e,t,r){},"078a":function(e,t,r){},"0eca":function(e,t,r){"use strict";var n=r("c553"),s=r.n(n);s.a},1:function(e,t){},"12b2":function(e,t,r){},"192a":function(e,t,r){},"192b":function(e,t,r){},2358:function(e,t,r){},"29c5":function(e,t,r){"use strict";var n=r("aede"),s=r.n(n);s.a},"2e30":function(e,t,r){},"35b9":function(e,t,r){"use strict";var n=r("bb62"),s=r.n(n);s.a},"36ae":function(e,t,r){},"3c43":function(e,t,r){},"3d71":function(e,t,r){e.exports=r.p+"img/Ripple.b6635495.gif"},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return r(t)}function a(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="4678"},"476d":function(e,t,r){"use strict";var n=r("4e9f"),s=r.n(n);s.a},"48ec":function(e,t,r){"use strict";var n=r("eed1"),s=r.n(n);s.a},"4e9f":function(e,t,r){},"503e":function(e,t,r){},"56ca":function(e,t,r){"use strict";var n=r("2358"),s=r.n(n);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=(r("cabf"),r("96d3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex column",attrs:{id:"app"}},[r("AppHeader",{on:{"toggle-sidebar":e.toggleSidebar}}),r("MobileSidebar",{attrs:{showSidebar:e.showSideBar,connectedUser:e.connectedUser},on:{"toggle-me":e.toggleSidebar}}),e.connectedUser?r("ChatApp"):e._e(),r("router-view")],1)}),a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-header"},[n("div",{staticClass:"logo-container",on:{click:e.goHome}},[n("img",{staticClass:"logo",attrs:{src:r("d6c9")}})]),n("div",{staticClass:"nav-container fs12"},[n("router-link",{staticClass:"header-link",attrs:{exact:"",to:"/"}},[e._v("Home")]),n("router-link",{staticClass:"header-link",attrs:{to:"/explore"}},[e._v("Explore")]),n("router-link",{staticClass:"header-link",attrs:{to:"/map"}},[e._v("Map")]),n("router-link",{staticClass:"header-link",attrs:{to:"/about"}},[e._v("About")])],1),n("button",{staticClass:"mobile-nav-btn",on:{click:e.emitToggSidebar}},[n("i",{staticClass:"fas fa-bars"})]),e.connectedUser?n("UserDashboard",{staticClass:"user-dashboard",attrs:{currUser:e.connectedUser}}):n("div",{staticClass:"user-action-container"},[n("button",{staticClass:"btn-login",on:{click:e.goLogin}},[e._v("Login")]),n("button",{staticClass:"btn-signup",on:{click:e.goSignUp}},[e._v("Sign-Up")])])],1)},o=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-dashboard-header"},[r("button",{staticClass:"btn-add-offer",on:{click:e.addOffer}},[e._v("Share a skill")]),r("div",{staticClass:"icon-container"},[r("div",{staticClass:"inbox"},[r("router-link",{attrs:{to:"/profile/"+e.currUser.nickName+"/inbox"}},[r("i",{staticClass:"fas fa-envelope"})])],1),r("img",{staticClass:"user-small-img",attrs:{src:e.currUser.imgUrl},on:{click:e.toggleNav}})]),e.showNav?r("nav",{staticClass:"user-actions-nav"},[r("ul",{staticClass:"user-commands clean-list"},[r("li",{staticClass:"li-user"},[r("p",[e._v(e._s(e.currUser.name))])]),r("li",[r("router-link",{attrs:{to:"/profile/"+e.currUser.nickName}},[e._v("Go to profile")])],1),r("li",[r("button",{staticClass:"logout-btn",on:{click:function(t){return t.stopPropagation(),e.doLogout(t)}}},[e._v("Logout")])])])]):e._e()])},u=[],l=(r("96cf"),r("3b8d")),f=r("8055"),d=r.n(f),p={props:{currUser:{type:Object}},data:function(){return{showNav:!1,socket:d()("localhost:3000")}},mounted:function(){var e=this;this.socket.emit("JOIN_ROOM",this.currUser._id),this.socket.on("notify",function(){return e.addNotification()}),this.socket.on("req-sent",function(t){return e.$store.commit({type:"addBooking",booking:t})}),this.socket.on("booking-updated",function(t){return e.$store.commit({type:"updateBooking",booking:t})})},computed:{unreadMsgs:function(){return this.$store.getters.unreadMsgs}},methods:{doLogout:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"doLogout"});case 3:this.$router.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("Couldnt log out, got err:",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),addNotification:function(){this.$store.commit({type:"addNotification"})},addOffer:function(){this.$router.push("/edit")},toggleNav:function(){this.showNav=!this.showNav}}},m=p,h=(r("7a30"),r("2877")),g=Object(h["a"])(m,c,u,!1,null,"629332d4",null),v=g.exports,b={methods:{goLogin:function(){this.$router.push("/login")},goSignUp:function(){this.$router.push("/sign-up")},goHome:function(){this.$router.push("/")},emitToggSidebar:function(){this.$emit("toggle-sidebar")}},computed:{connectedUser:function(){return this.$store.getters.connectedUser}},components:{UserDashboard:v}},y=b,w=(r("c9b1"),Object(h["a"])(y,i,o,!1,null,"3c654844",null)),k=w.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.chats.length?r("section",{staticClass:"chat-app"},e._l(e.chats,function(t,n){return r("div",{key:n,staticClass:"chat-boxes"},[t.isShown?r("ChatBox",{attrs:{chat:t},on:{sendMsg:e.sendMsg,closeChat:function(r){return e.closeChat(t)}}}):e._e()],1)}),0):e._e()},x=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.chat?r("main",[r("div",{staticClass:"chat-header",on:{click:function(t){return e.toggleChat()}}},[r("img",{attrs:{src:e.to.imgUrl,alt:""}}),r("p",[e._v(e._s(e.to.name))]),r("button",{on:{click:function(t){return t.stopPropagation(),e.closeChat()}}},[e._v("X")])]),e.isOpen?r("div",[r("section",{ref:"chatArea",staticClass:"chat-area"},e._l(e.chat.msgs,function(t,n){return r("p",{key:n,staticClass:"message",class:{"message-in":t.msg.author===e.connectedUser.name,"message-out":t.msg.author!==e.connectedUser.name}},[e._v(e._s(t.msg.txt))])}),0),r("section",[r("form",{staticClass:"chat-input",on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],attrs:{type:"text",autocomplete:"off",placeholder:"Type your message"},domProps:{value:e.msg},on:{input:function(t){t.target.composing||(e.msg=t.target.value)}}}),r("button",{attrs:{type:"submit"}},[e._v("Send")])])])]):e._e()]):e._e()},_=[],j=(r("7f7f"),{name:"chat-box",props:{chat:{type:Object}},data:function(){return{isOpen:!1,msg:"",to:{},from:{}}},created:function(){this.chat.members[0].name===this.connectedUser.name?(this.to=this.chat.members[1],this.from=this.chat.members[0]):(this.to=this.chat.members[0],this.from=this.chat.members[1])},computed:{connectedUser:function(){return this.$store.getters.connectedUser}},methods:{sendMsg:function(){if(this.msg){var e={to:this.to,from:this.from,msg:{txt:this.msg,author:this.from.name}};this.$emit("sendMsg",e),this.msg=""}},closeChat:function(){this.$emit("closeChat")},toggleChat:function(){this.isOpen=!this.isOpen}}}),I=j,R=(r("98d6"),Object(h["a"])(I,O,_,!1,null,"42e518a4",null)),U=R.exports,S={name:"chat-app",data:function(){return{socket:d()("localhost:3000")}},mounted:function(){var e=this;this.socket.emit("chat-join",this.connectedUser._id),this.socket.on("got-history",function(t){e.$store.commit({type:"pushHistory",history:t})}),this.socket.on("msg-received",function(t){e.$store.commit({type:"addMsg",msg:t})})},computed:{connectedUser:function(){return this.$store.getters.connectedUser},chats:function(){return this.$store.getters.chats}},methods:{sendMsg:function(e){this.$store.commit({type:"addMsg",msg:e}),this.socket.emit("msg-sent",e)},getHistory:function(e){this.socket.emit("history",e)},closeChat:function(e){this.$store.commit({type:"closeChat",chat:e})}},components:{ChatBox:U}},P=S,N=(r("dd6b"),Object(h["a"])(P,C,x,!1,null,"bbd791d6",null)),$=N.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("section",[e.showSidebar?r("div",{staticClass:"side-bar-overlay",on:{click:e.emitToggleSidebar}}):e._e(),e.showSidebar?r("section",{staticClass:"side-bar-container"},[r("div",{staticClass:"connected-user-details"},[r("div",{staticClass:"user-img",style:e.userImg(e.connectedUser.imgUrl)}),r("div",{staticClass:"user-name-city"},[r("p",[e._v(e._s(e.connectedUser.name))]),r("span",[e._v(e._s(e.connectedUser.city))])])]),r("nav",[r("ul",{staticClass:"clean-list navigation"},[r("li",[r("router-link",{attrs:{to:"/",exact:""}},[r("i",{staticClass:"fas fa-home"}),r("span",[e._v("Home")])])],1),r("li",[r("router-link",{attrs:{to:"/explore"}},[r("i",{staticClass:"fas fa-users"}),r("span",[e._v("Explore")])])],1),r("li",[r("router-link",{attrs:{to:"/map"}},[r("i",{staticClass:"fas fa-map-marked-alt"}),r("span",[e._v("Map")])])],1),r("li",[r("router-link",{attrs:{to:"/profile/"+e.connectedUser.nickName+"/inbox"}},[r("i",{staticClass:"fas fa-envelope"}),r("span",[e._v("Inbox")])])],1),r("li",[r("router-link",{attrs:{to:"/about"}},[r("i",{staticClass:"fas fa-info-circle"}),r("span",[e._v("About")])])],1)])]),"Visitor"!==e.connectedUser.name?r("ul",{staticClass:"clean-list actions"},[r("li",[r("router-link",{attrs:{to:"/profile/"+e.connectedUser.nickName,exact:""}},[r("i",{staticClass:"fas fa-user-alt"}),r("span",[e._v("My Profile")])])],1),r("li",[r("router-link",{attrs:{to:"/profile/"+e.connectedUser.nickName+"/edit"}},[r("i",{staticClass:"fas fa-user-edit"}),r("span",[e._v("Edit My Details")])])],1),r("li",[r("router-link",{attrs:{to:"/edit"}},[r("i",{staticClass:"fas fa-plus-circle"}),r("span",[e._v("Share A Skill")])])],1),r("li",{staticClass:"logout"},[r("button",{on:{click:function(t){return t.stopPropagation(),e.doLogout(t)}}},[r("i",{staticClass:"fas fa-power-off"}),r("span",[e._v("Logout")])])])]):r("ul",{staticClass:"clean-list actions"},[r("li",[r("router-link",{attrs:{to:"/login",exact:""}},[r("i",{staticClass:"fas fa-sign-in-alt"}),r("span",[e._v("Login")])])],1),r("li",[r("router-link",{attrs:{to:"/sign-up",exact:""}},[r("i",{staticClass:"fas fa-user-plus"}),r("span",[e._v("Sign-Up")])])],1)])]):e._e()])])},A=[],T={props:{showSidebar:{type:Boolean,default:!1},connectedUser:{type:Object,default:function(){return{imgUrl:"http://pluspng.com/img-png/user-png-icon-male-user-icon-512.png",name:"Visitor",city:""}}}},methods:{userImg:function(e){return{"background-image":"url(".concat(e,")"),"background-size":"cover","background-position":"center","object-fit":"cover","background-color":"white"}},doLogout:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"doLogout"});case 3:this.emitToggleSidebar(),this.$router.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("Couldnt log out, got err:",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),emitToggleSidebar:function(){this.$emit("toggle-me")},test:function(e){console.log(e.target)}},watch:{$route:{handler:function(){this.showSidebar&&this.emitToggleSidebar()},deep:!0}}},L=T,B=(r("f334"),Object(h["a"])(L,M,A,!1,null,"e3f84da2",null)),D=B.exports,E={computed:{connectedUser:function(){return this.$store.getters.connectedUser||void 0}},data:function(){return{showSideBar:!1}},methods:{toggleSidebar:function(){this.showSideBar=!this.showSideBar}},components:{AppHeader:k,ChatApp:$,MobileSidebar:D}},F=E,G=Object(h["a"])(F,s,a,!1,null,null,null),z=G.exports,Y=r("8c4f"),J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"home-container"},[r("section",{staticClass:"front"},[r("span",{staticClass:"fs36"},[e._v("Get new skills for free in")]),r("div",{staticClass:"changing-title fs36"},[r("vue-typer",{staticClass:"typer",attrs:{text:["Development","Business","Finance & Accounting","IT & Software","Office Productivity","Personal Development","Design","Marketing","Photography","Health & Fitness","Music","Teaching & Academics"],repeat:1/0,shuffle:!0,"initial-action":"typing","pre-type-delay":70,"type-delay":70,"pre-erase-delay":2e3,"erase-delay":50,"erase-style":"backspace","erase-on-complete":!1,"caret-animation":"solid"}})],1)]),e.isLoading?r("div",{staticClass:"loading-container"},[r("breeding-rhombus-spinner",{staticClass:"loader",attrs:{"animation-duration":2e3,size:65,color:"#c654dd"}})],1):r("div",{staticClass:"home-list fs20"},[r("span",{staticClass:"strong"},[e._v("Recommended for you:")]),e.recommendedOffers.length?r("OfferList",{attrs:{offers:e.recommendedOffers}}):e._e(),r("span",{staticClass:"strong"},[e._v("Newest in music:")]),e.musicOffers.length?r("OfferList",{attrs:{offers:e.musicOffers}}):e._e(),r("span",{staticClass:"strong"},[e._v("Newest in Just For Fun:")]),e.justForFunOffers.length?r("OfferList",{attrs:{offers:e.justForFunOffers}}):e._e(),r("span",{staticClass:"strong"},[e._v("Newest in DIY:")]),e.diyOffers.length?r("OfferList",{attrs:{offers:e.diyOffers}}):e._e()],1)])},H=[],q=(r("ac6a"),r("5df3"),r("768b")),W=(r("fc86"),r("5113")),Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"offer-list-container",class:{"list-on-profile":e.isShowingOnProfile}},[e.offers.length?r("masonry",{attrs:{cols:e.colConfig,gutter:{default:"20px"}}},e._l(e.offers,function(t,n){return r("OfferPreview",{key:n,attrs:{offer:t,currMarkedOfferId:e.currMarkedOfferId},on:{removeOffer:e.removeOffer,offerClicked:e.emitOfferClick}})}),1):0===e.offers.length?r("span",[e._v("No offers to show")]):r("breeding-rhombus-spinner",{class:e.listOnProfile,attrs:{"animation-duration":2e3,size:65,color:"#c654dd"}})],1)},V=[],X=(r("c5f6"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.offer?r("section",{staticClass:"offer-preview",class:{marked:e.isMarked},on:{click:e.goToDetails}},[r("header",[r("div",{staticClass:"header-category"},[r("i",{staticClass:"fs14",class:e.categoryIcon}),r("span",[e._v(e._s(e.offer.category))])]),e.userOwnOffer?r("div",{staticClass:"user-actions"},[r("button",{on:{click:function(t){return t.stopPropagation(),e.goToEdit(t)}}},[r("i",{staticClass:"fs12 far fa-edit"})]),r("button",{on:{click:function(t){return t.stopPropagation(),e.removeOffer(t)}}},[r("i",{staticClass:"fs12 far fa-trash-alt",on:{click:function(t){return t.stopPropagation(),e.removeOffer(t)}}})])]):e._e()]),r("main",[r("img",{attrs:{src:e.offer.imgs[0],alt:""}}),r("div",{staticClass:"user-date-starred-container"},[r("div",{staticClass:"wrapper"},[r("img",{attrs:{src:e.offer.createdBy.imgUrl,alt:""}}),r("span",[e._v(e._s(e.offer.createdBy.name))])]),r("div",{staticClass:"rating fs12"},[e.offer.rating.avgScore>0?r("span",{staticClass:"rating-avg"},[r("span",{staticClass:"rating-avg-text strong"},[e._v(e._s(e.offer.rating.avgScore))]),e._v("\n          ("+e._s(e.offer.rating.reviews.length)+")\n        ")]):r("span",{staticClass:"rating-avg"},[e._v("Unrated")]),e.offer.rating.avgScore>0?r("i",{staticClass:"star-full fas fa-star",class:{"high-rating":e.offer.rating.avgScore>4}}):r("i",{staticClass:"far fa-star"})])]),r("div",{staticClass:"details"},[r("p",{staticClass:"title"},[e._v(e._s(e._f("truncateText")(e.offer.title,30)))]),r("p",{staticClass:"desc"},[e._v(e._s(e._f("truncateText")(e.offer.description,320)))]),e._l(e.offer.tags.slice(0,3),function(t){return r("p",{key:t,staticClass:"tags"},[e._v(e._s(t))])})],2)]),r("hr"),e.isOnMapView?r("footer",[r("button",{staticClass:"btn-goToDetails",on:{click:function(t){return e.goToDetails(e.event,"forced")}}},[e._v("Go to details")])]):r("footer",[r("div",{staticClass:"wrapper"},[r("button",{staticClass:"like",on:{click:function(e){e.stopPropagation()}}},[r("i",{staticClass:"fs14 far fa-heart"})]),r("span",[e._v(e._s(this.offer.interested.length))])]),r("div",{staticClass:"wrapper"},[r("button",{staticClass:"contact",on:{click:function(e){e.stopPropagation()}}},[r("i",{staticClass:"fs14 far fa-comment-dots"})]),r("button",{staticClass:"share",on:{click:function(e){e.stopPropagation()}}},[r("i",{staticClass:"fas fa-share-alt"})])])])]):e._e()}),Q=[],K={name:"OfferPreview",props:{offer:{type:Object},currMarkedOfferId:{type:String}},methods:{goToDetails:function(e,t){if(!t&&this.isOnMapView)return this.$emit("offerClicked",this.offer);this.$router.push({name:"OfferDetails",params:{nickName:this.offer.createdBy.nickName,offerId:this.offer._id}}),this.$store.dispatch({type:"logUserCategoryChoice",category:this.offer.category,user:this.connectedUser?this.connectedUser.nickName:"visitor"})},goToEdit:function(){this.$router.push("profile/edit/".concat(this.offer._id))},removeOffer:function(){this.$emit("removeOffer",this.offer._id)},goToProfile:function(){this.$router.push("/profile/".concat(this.offer.createdBy.nickName))}},computed:{isOnMapView:function(){return"MapView"===this.$route.name},connectedUser:function(){return this.$store.getters.connectedUser},connectedUserNickName:function(){return this.$store.getters.connectedUser.nickName},starIconFill:function(){return this.offer.stars>=4?"#ffbf00":this.offer.stars<4&&this.offer.stars>=3?"#ffcf40":this.offer.stars<3&&this.offer.stars>=2?"#ffdc73":"#8e8b80"},categoryIcon:function(){return"Development"===this.offer.category?"fas fa-file-code":"Business"===this.offer.category?"fas fa-briefcase":"Just For Fun"===this.offer.category?"far fa-grin-tears":"DIY"===this.offer.category?"fas fa-tools":"Finance & Accounting"===this.offer.category?"fas fa-balance-scale":"Office Productivity"===this.offer.category?"fas fa-mail-bulk":"Personal Development"===this.offer.category?"fas fa-user-plus":"Design"===this.offer.category?"fas fa-pencil-ruler":"IT & Software"===this.offer.category?"fas fa-sitemap":"Marketing"===this.offer.category?"fas fa-ad":"Lifestyle"===this.offer.category?"fas fa-gamepad":"Photography"===this.offer.category?"fas fa-camera-retro":"Health & Fitness"===this.offer.category?"fas fa-running":"Music"===this.offer.category?"fas fa-guitar":"Teaching & Academics"===this.offer.category?"fas fa-user-graduate":void 0},userOwnOffer:function(){var e=this.$store.getters.connectedUser;return!(!e||this.offer.createdBy.nickName!==e.nickName)},isMarked:function(){return this.currMarkedOfferId===this.offer._id}}},ee=K,te=(r("cce6"),Object(h["a"])(ee,X,Q,!1,null,"38490847",null)),re=te.exports,ne={name:"OfferList",props:{offers:{type:Array},cols:{type:Number},currMarkedOfferId:{type:String}},methods:{removeOffer:function(e){this.$emit("removeOffer",e)},emitOfferClick:function(e){this.$emit("offerClicked",e)}},components:{OfferPreview:re,BreedingRhombusSpinner:W["BreedingRhombusSpinner"]},computed:{isShowingOnProfile:function(){if(this.$route.params.nickName)return!0},colConfig:function(){return this.cols?{default:this.cols}:{default:4,1080:3,830:2,500:1}},listOnProfile:function(){return this.$route.params.nickName?"profile":"explore"}}},se=ne,ae=(r("a96e"),Object(h["a"])(se,Z,V,!1,null,null,null)),ie=ae.exports,oe={name:"home",components:{OfferList:ie,BreedingRhombusSpinner:W["BreedingRhombusSpinner"]},data:function(){return{recommendedOffers:[],musicOffers:[],justForFunOffers:[],diyOffers:[],isLoading:!0}},mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r,n,s,a,i,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.parse(sessionStorage.getItem("loggedInUser")),t=t?t.nickName:"visitor",e.next=4,this.$store.dispatch({type:"getUserPopularCategory",user:t});case 4:return r=e.sent,n=this.$store.dispatch({type:"loadOffers",filter:{category:r,limit:4},noCommit:!0}),s=this.$store.dispatch({type:"loadOffers",filter:{category:"music",limit:4},noCommit:!0}),a=this.$store.dispatch({type:"loadOffers",filter:{category:"Just For Fun",limit:4},noCommit:!0}),i=this.$store.dispatch({type:"loadOffers",filter:{category:"DIY",limit:4},noCommit:!0}),e.next=11,Promise.all([n,s,a,i]);case 11:o=e.sent,c=Object(q["a"])(o,4),this.recommendedOffers=c[0],this.musicOffers=c[1],this.justForFunOffers=c[2],this.diyOffers=c[3],this.isLoading=!1;case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{setFilter:function(e){this.$router.push("/explore"),this.$store.dispatch({type:"loadOffers",filter:e})}}},ce=oe,ue=(r("b4e1"),Object(h["a"])(ce,J,H,!1,null,"3119e9b2",null)),le=ue.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"explore-main-container"},[r("header",{staticClass:"cover"},[r("span",{staticClass:"fs32"},[e._v("Which new skill are you looking for?")]),r("span",[e._v(e._s(e.offers.length)+" skills to choose from")]),r("Offer-Filter",{ref:"entry",staticClass:"filter-section",on:{"filter-offers":e.setFilter}})],1),r("div",{staticClass:"explore-list-container"},[e.offers.length?r("OfferList",{attrs:{offers:e.offers},on:{removeOffer:e.removeOffer}}):e._e()],1)])},de=[],pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"offer-filter-wrapper"},[r("multiselect",{attrs:{options:e.options,searchable:!1,"select-label":"","deselect-label":"",selectedLabel:"",placeholder:"Choose A Category"},on:{remove:e.removeCategory,select:e.emitFilter},model:{value:e.filter.category,callback:function(t){e.$set(e.filter,"category",t)},expression:"filter.category"}}),r("form",{staticClass:"offer-filter",on:{submit:function(e){e.preventDefault()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.txt,expression:"filter.txt"}],attrs:{type:"text",placeholder:"ie. Hula hooping..."},domProps:{value:e.filter.txt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitFilter(t)},input:function(t){t.target.composing||e.$set(e.filter,"txt",t.target.value)}}})]),r("div",{staticClass:"type-wrapper"},[r("div",{ref:"type1",staticClass:"selected",attrs:{"data-value":""},on:{click:function(t){return e.setType("")}}},[e._v("All")]),r("div",{ref:"type2",attrs:{"data-value":"group"},on:{click:function(t){return e.setType("group",t)}}},[e._v("Group")]),r("div",{ref:"type3",attrs:{"data-value":"single"},on:{click:function(t){return e.setType("single",t)}}},[e._v("Single")])])],1)},me=[],he=r("8e5f"),ge=r.n(he),ve={data:function(){return{filter:{txt:"",groupType:"",category:""},options:["Development","Business","Finance & Accounting","Office Productivity","Personal Development","Design","DIY","Just For Fun","IT & Software","Marketing","Lifestyle","Photography","Music","Teaching & Academics","Health & Fitness"]}},methods:{emitFilter:function(){this.$emit("filter-offers",this.filter)},removeCategory:function(){this.filter.category="",this.emitFilter()},setType:function(e){var t=[this.$refs.type1,this.$refs.type2,this.$refs.type3];t.forEach(function(t){t.dataset.value!==e?t.classList.remove("selected"):t.classList.add("selected")}),this.filter.groupType=e,this.emitFilter()}},components:{Multiselect:ge.a}},be=ve,ye=(r("60bc"),r("84c7"),Object(h["a"])(be,pe,me,!1,null,"3499a028",null)),we=ye.exports,ke={name:"Explore",updated:function(){},data:function(){return{observer:null}},computed:{offers:function(){return this.$store.getters.getOffers}},created:function(){this.$store.dispatch({type:"loadOffers",filter:{}})},methods:{removeOffer:function(e){this.$store.dispatch({type:"removeOffer",offerId:e})},setFilter:function(e){this.$store.dispatch({type:"loadOffers",filter:e})}},components:{OfferList:ie,OfferFilter:we}},Ce=ke,xe=(r("6234"),Object(h["a"])(Ce,fe,de,!1,null,"bd2e8ad2",null)),Oe=xe.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main-container"},[n("section",{staticClass:"map-container"},[n("GmapMap",{ref:"mapRef",staticClass:"gMap-Map",staticStyle:{width:"100%",height:"calc(100vh - 50px)"},attrs:{center:{lat:10,lng:10},zoom:15,"map-type-id":"terrain"}},[e._l(e.offersToShow,function(t,s){return n("gmap-marker",{key:"marker"+s,attrs:{position:t.location,icon:r("05cd")},on:{click:function(r){return e.panTo(t)}}})}),e._l(e.offersToShow,function(t,r){return n("gmap-circle",{key:"circle"+r,attrs:{center:t.location,options:{strokeColor:"#000",strokeOpacity:0,strokeWeight:0,fillColor:"#ff6ada",fillOpacity:.25,radius:200}},on:{click:function(r){return e.panTo(t)}}})}),n("gmap-marker",{attrs:{position:e.myLocation}})],2)],1),n("section",{staticClass:"content-container"},[n("div",{staticClass:"type-wrapper"},[n("div",{ref:"type1",staticClass:"selected",attrs:{"data-value":"all"},on:{click:function(t){return e.setFilter("all")}}},[e._v("All offers")]),n("div",{ref:"type2",attrs:{"data-value":"near-me"},on:{click:function(t){return e.setFilter("near-me",t)}}},[e._v("Near me")]),n("div",{ref:"type3",attrs:{"data-value":"booked"},on:{click:function(t){return e.setFilter("booked",t)}}},[e._v("Booked")])]),n("div",{staticClass:"distance-container"},[n("span",[e._v("Showing only offers with location")]),"near-me"===e.filterBy?n("span",[e._v(" within "+e._s(e.customDistance)+"km")]):e._e(),"near-me"===e.filterBy?n("input",{directives:[{name:"model",rawName:"v-model",value:e.customDistance,expression:"customDistance"}],staticClass:"custom-range",attrs:{type:"range",min:"1",max:"100",id:"customRange1"},domProps:{value:e.customDistance},on:{input:function(t){return e.setDistance()},__r:function(t){e.customDistance=t.target.value}}}):e._e()]),e.offersToShow?n("OfferList",{staticClass:"offer-list",attrs:{offers:e.offersToShow,currMarkedOfferId:e.currMarkedOfferId,cols:2},on:{offerClicked:e.panTo}}):e._e()],1)])},je=[],Ie=(r("2ef0"),r("c7e3")),Re=r.n(Ie),Ue=(r("2760"),r("7b6a")),Se={created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"loadOffers",filter:{type:"In Person"}});case 2:t=e.sent,this.offers=t;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.mapRef.$mapPromise;case 2:t=e.sent,this.map=t,t.panTo({lng:34.77,lat:32.09});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{offers:null,offersNearMe:null,map:null,currOfferId:"",filterBy:"",currentLocation:null,customDistance:20}},methods:{panTo:function(e){var t=this,r=e.location,n=e._id,s=void 0===n?"":n;if(this.map){var a=s;this.map.panTo(r),this.currOfferId=a,setTimeout(function(){var e=t.$el.getElementsByClassName("offer-preview marked")[0];e.scrollIntoView({behavior:"smooth",block:"center"})},100)}},setFilter:function(e){var t=this,r=[this.$refs.type1,this.$refs.type2,this.$refs.type3];r.forEach(function(t){t.dataset.value!==e?t.classList.remove("selected"):t.classList.add("selected")}),"all"===e?this.filterBy="all":"near-me"===e&&(this.filterBy=e,this.setMyLocation(),setTimeout(function(){t.panToMyLocation(),t.setOffersNearMe(5)},100))},setMyLocation:function(){var e=this;return navigator.geolocation.getCurrentPosition(function(t){e.currentLocation={lat:t.coords.latitude,lng:t.coords.longitude}}),this.currentLocation},setOffersNearMe:function(e){var t=this;console.log("seeting with distance",e),this.offersNearMe=this.offers.filter(function(r){var n=t.calcDistance(t.currentLocation,r.location);return n<e})},panToMyLocation:function(){this.map&&this.map.panTo(this.currentLocation)},calcDistance:function(e,t){var r=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.LatLng(t.lat,t.lng);function s(e,t){var r=google.maps.geometry.spherical.computeDistanceBetween(e,t);return r/1e3}return s(r,n).toFixed(2)},setDistance:function(){this.setOffersNearMe(+this.customDistance)}},computed:{offersToShow:function(){return"near-me"===this.filterBy?this.offersNearMe:this.offers},currMarkedOfferId:function(){return this.currOfferId},myLocation:function(){return this.currentLocation}},components:{OfferList:ie,RangeSlider:Re.a,mdbRangeInput:Ue["mdbRangeInput"]}},Pe=Se,Ne=(r("a56f"),Object(h["a"])(Pe,_e,je,!1,null,"9d22b952",null)),$e=Ne.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.profiles.length?r("div",{staticClass:"about-container"},e._l(e.profiles,function(e,t){return r("ProfileSidebar",{key:t,attrs:{profile:e}})}),1):r("breeding-rhombus-spinner",{staticClass:"loader",attrs:{"animation-duration":2e3,size:65,color:"#c654dd"}})],1)},Ae=[],Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"sidebar-container"},[r("section",{staticClass:"sidebar-content"},[r("div",{staticClass:"img-btns-wrapper"},[r("img",{staticClass:"profile-img",attrs:{src:e.profile.imgUrl},on:{click:e.goToProfile}}),e.isOnAboutPage?e._e():r("div",{staticClass:"btn-container"},[e._m(0),e._m(1),e.connectedUser?r("button",{staticClass:"message"},[r("router-link",{attrs:{to:"/profile/"+e.connectedUser.nickName+"/inbox"}},[r("i",{staticClass:"fas fa-envelope"})])],1):e._e()])]),r("span",{staticClass:"name fs20",on:{click:e.goToProfile}},[e._v(e._s(e.profile.name))]),r("span",{staticClass:"city fs14"},[e._v(e._s(e.profile.city))]),r("br"),r("br"),r("span",{staticClass:"city fs12"},[e._v(e._s(e.profile.intro))]),e.isUser?r("router-link",{staticClass:"city fs12",attrs:{to:"/profile/"+e.connectedUser.nickName+"/edit"}},[e._v("Edit this profile")]):e._e()],1)])},Le=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"share"},[r("i",{staticClass:"fas fa-share-alt"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("button",{staticClass:"star"},[r("i",{staticClass:"fas fa-star"})]),r("span",[e._v("4.8")])])}],Be=(r("6762"),r("2fdb"),{props:{profile:{type:Object}},methods:{goToProfile:function(){this.$router.push("/profile/".concat(this.profile.nickName))}},computed:{connectedUser:function(){return this.$store.getters.connectedUser},isOnAboutPage:function(){return this.$route.path.includes("about")},isUser:function(){return this.connectedUser&&this.connectedUser._id===this.profile._id}}}),De=Be,Ee=(r("d001"),Object(h["a"])(De,Te,Le,!1,null,"7e6e67fb",null)),Fe=Ee.exports,Ge={data:function(){return{profiles:[]}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$store.dispatch({type:"getProfile",nickName:"orielshalem"}),r=this.$store.dispatch({type:"getProfile",nickName:"ronavnery"}),n=this.$store.dispatch({type:"getProfile",nickName:"StavDorkam119"}),e.next=6,Promise.all([t,r,n]);case 6:s=e.sent,this.profiles=s,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("Error!",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}(),components:{ProfileSidebar:Fe,BreedingRhombusSpinner:W["BreedingRhombusSpinner"]}},ze=Ge,Ye=(r("476d"),Object(h["a"])(ze,Me,Ae,!1,null,"7f175572",null)),Je=Ye.exports,He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"offer-edit"},[r("section",{staticClass:"edit-container"},[r("span",{staticClass:"fs22 strong"},[e._v("Share a new skill")]),r("form",{on:{submit:function(e){e.preventDefault()}}},[r("section",{staticClass:"settings-first"},[r("span",{staticClass:"tags-title fs14"},[e._v("Choose a category")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.editedOffer.category,expression:"editedOffer.category"}],staticClass:"form-control category",attrs:{name:"category",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.editedOffer,"category",t.target.multiple?r:r[0])}}},e._l(e.optionalCategories,function(t,n){return r("option",{key:n},[e._v(e._s(t))])}),0),r("span",{staticClass:"tags-title fs14"},[e._v("Choose the session type")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.editedOffer.type,expression:"editedOffer.type"}],staticClass:"session-type form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.editedOffer,"type",t.target.multiple?r:r[0])}}},[r("option",[e._v("In Person")]),r("option",[e._v("Voice/Video Chat")])]),"In Person"===e.editedOffer.type?r("div",{staticClass:"single-group-container fs14"},[r("div",{staticClass:"tags-title fs14"},[e._v("Is it for 1 preson or more?")]),r("div",{staticClass:"custom-control custom-radio custom-control-inline"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.isGroup,expression:"editedOffer.isGroup",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{type:"radio",name:"radioInline1",id:"singleOrGroup1"},domProps:{value:!1,checked:e._q(e.editedOffer.isGroup,e._n(!1))},on:{change:function(t){e.$set(e.editedOffer,"isGroup",e._n(!1))}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"singleOrGroup1"}},[e._v("1 on 1")])]),r("div",{staticClass:"custom-control custom-radio custom-control-inline"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.isGroup,expression:"editedOffer.isGroup",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{type:"radio",name:"radioInline1",id:"singleOrGroup2"},domProps:{value:!0,checked:e._q(e.editedOffer.isGroup,e._n(!0))},on:{change:function(t){e.$set(e.editedOffer,"isGroup",e._n(!0))}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"singleOrGroup2"}},[e._v("Group")])])]):e._e(),r("gmap-autocomplete",{staticClass:"form-control",on:{place_changed:e.setPlace,keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.editedOffer.title,expression:"editedOffer.title"}],staticClass:"title-input form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:e.editedOffer.title},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.editedOffer,"title",t.target.value)}}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editedOffer.description,expression:"editedOffer.description"}],staticClass:"desc-input form-control",attrs:{placeholder:"Description",rows:"5"},domProps:{value:e.editedOffer.description},on:{input:function(t){t.target.composing||e.$set(e.editedOffer,"description",t.target.value)}}}),r("span",{staticClass:"fs14"},[e._v("Skill difficulty")]),r("div",{staticClass:"difficulty-container fs14"},[r("div",{staticClass:"custom-control custom-radio custom-control-inline"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.difficulty,expression:"editedOffer.difficulty",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{type:"radio",name:"radioInline2",id:"defaultInline1",value:"1"},domProps:{checked:e._q(e.editedOffer.difficulty,e._n("1"))},on:{change:function(t){e.$set(e.editedOffer,"difficulty",e._n("1"))}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"defaultInline1"}},[e._v("Beginner")])]),r("div",{staticClass:"custom-control custom-radio custom-control-inline"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.difficulty,expression:"editedOffer.difficulty",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{type:"radio",name:"radioInline2",id:"defaultInline2",value:"2"},domProps:{checked:e._q(e.editedOffer.difficulty,e._n("2"))},on:{change:function(t){e.$set(e.editedOffer,"difficulty",e._n("2"))}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"defaultInline2"}},[e._v("Intermediate")])]),r("div",{staticClass:"custom-control custom-radio custom-control-inline"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.difficulty,expression:"editedOffer.difficulty",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{type:"radio",name:"radioInline2",id:"defaultInline3",value:"3"},domProps:{checked:e._q(e.editedOffer.difficulty,e._n("3"))},on:{change:function(t){e.$set(e.editedOffer,"difficulty",e._n("3"))}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"defaultInline3"}},[e._v("Advanced")])])]),r("div",[r("div",{staticClass:"duration-container"},[r("span",{staticClass:"tags-title fs14"},[e._v("How long will the session be? (in minutes)")]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.duration,expression:"editedOffer.duration",modifiers:{number:!0}}],staticClass:"form-control",attrs:{placeholder:"",type:"number"},domProps:{value:e.editedOffer.duration},on:{input:function(t){t.target.composing||e.$set(e.editedOffer,"duration",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])],1),r("section",{staticClass:"settings-second"},[r("span",{staticClass:"tags-title fs14"},[e._v("Are there any previous requirements for this skill?")]),r("DynamicList",{attrs:{list:e.editedOffer.requirements},on:{"requirements-updated":e.changeRequirments}}),r("span",{staticClass:"tags-title fs14"},[e._v("Whats included in this session?")]),r("DynamicList",{attrs:{list:e.editedOffer.whatsIncluded},on:{"whatIncluded-updated":e.changeWhatsIncluded}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editedOffer.minPeople,expression:"editedOffer.minPeople",modifiers:{number:!0}}],staticClass:"form-control",attrs:{placeholder:"Min participants",type:"number"},domProps:{value:e.editedOffer.minPeople},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.editedOffer,"minPeople",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("span",{staticClass:"tags-title fs14"},[e._v("Add tags so peope can easily find your skill")]),r("vue-tags-input",{staticClass:"form-control",attrs:{tags:e.tags},on:{"tags-changed":e.tagChanged},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}),r("span",{staticClass:"tags-title fs14"},[e._v("Cover image url")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.editedOffer.imgs[0],expression:"editedOffer.imgs[0]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Image URL"},domProps:{value:e.editedOffer.imgs[0]},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.editedOffer.imgs,0,t.target.value)}}}),this.optionalPhotos.length>0?r("span",{staticClass:"fs14"},[e._v("Choose some photos that best suit your offer:")]):e._e(),r("DynamicCarousel",{staticClass:"dynamic-carousel",attrs:{imgs:this.optionalPhotos},on:{"img-choosed":e.addPhoto}}),r("button",{staticClass:"add-offer-btn",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Share!")])],1)])])])},qe=[],We=(r("20d6"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.list?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newText,expression:"newText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Add something..."},domProps:{value:e.newText},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addText(t))},input:function(t){t.target.composing||(e.newText=t.target.value)}}}),e.list.length?r("mdb-list-group",{staticClass:"list-container",attrs:{horizontal:""}},e._l(e.list,function(t,n){return r("mdb-list-group-item",{key:n,staticClass:"list-item",attrs:{action:!0}},[e._v("\n      "+e._s(t)+" "),r("i",{staticClass:"fs12 far fa-trash-alt",on:{click:function(t){return t.preventDefault(),e.removeText(n)}}})])}),1):e._e()],1):e._e()}),Ze=[],Ve={props:{list:{type:Array}},data:function(){return{newText:""}},methods:{addText:function(){var e=this.newText.trim();e&&(this.list.push(e),this.newText="",this.$emit("requirements-updated",this.list),this.$emit("whatIncluded-updated",this.list))},removeText:function(e){this.list.splice(e,1),this.$emit("requirements-updated",this.list),this.$emit("whatIncluded-updated",this.list)}},components:{mdbListGroup:Ue["f"],mdbListGroupItem:Ue["g"]}},Xe=Ve,Qe=(r("aa90"),Object(h["a"])(Xe,We,Ze,!1,null,"0ea6b457",null)),Ke=Qe.exports,et=r("c7a0"),tt=r.n(et),rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.imgs.length?r("carousel",{attrs:{mouseDrag:!0,paginationColor:"#159046",perPage:2}},e._l(e.imgs,function(t,n){return r("slide",{key:n,staticClass:"slide",attrs:{"data-index":"0","data-name":"MySlideName"}},[r("img",{attrs:{src:t,width:"auto"},on:{click:[function(e){return e.target.classList.toggle("choosed")},function(r){return r.preventDefault(),e.addPhoto(t,n)}]}})])}),1):e._e()},nt=[],st=r("0a63"),at=r.n(st),it={props:{imgs:{type:Array}},data:function(){return{isChoosed:{}}},methods:{addPhoto:function(e){this.$emit("img-choosed",e)}},components:{Carousel:st["Carousel"],Slide:st["Slide"]}},ot=it,ct=(r("0eca"),Object(h["a"])(ot,rt,nt,!1,null,"722cf4b8",null)),ut=ct.exports,lt={name:"offer-edit",data:function(){return{tag:"",tags:[],optionalPhotos:[],optionalCategories:["Just For Fun","Development","Business","Finance & Accounting","IT & Software","Office Productivity","DIY","Personal Development","Design","Marketing","Lifestyle","Photography","Health & Fitness","Music","Teaching & Academics"],optionalDifficulties:["Beginner level","Intermediate level","Advanced level"],editedOffer:{title:"",description:"",imgs:[],tags:[],requirements:[],isGroup:!0,type:"In Person",duration:"",category:"Just For Fun",difficulty:1,minPeople:"",whatsIncluded:[],interested:[],leveledUp:[],createdBy:null,location:{address:""},rating:{avgScore:0,reviews:[]}}}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params._id,!t){e.next=15;break}return e.prev=2,e.next=5,this.$store.dispatch({type:"getOfferById",offerId:t});case 5:r=e.sent,this.$store.getters.connectedUser||this.$router.push("/"),this.searchPhotos(),this.editedOffer=r,this.tags=r.tags.map(function(e){return{text:e}}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[2,12]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{prevent:function(){return!1},save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.editedOffer,!t._id){e.next=7;break}return e.next=4,this.$store.dispatch({type:"updateOffer",newOffer:t});case 4:this.$router.push("/explore"),e.next=11;break;case 7:return t.createdBy=this.connectedUser,e.next=10,this.$store.dispatch({type:"addOffer",newOffer:t});case 10:this.$router.push("/explore");case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),searchPhotos:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.editedOffer.tags.join(" "),e.prev=1,e.next=4,this.$store.dispatch({type:"searchRelatedPhotos",searchTerm:t});case 4:r=e.sent,console.log(r),this.optionalPhotos=r,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),changeRequirments:function(e){this.editedOffer.requirements=e},changeWhatsIncluded:function(e){this.editedOffer.whatsIncluded=e},addPhoto:function(e){var t=this.editedOffer.imgs.findIndex(function(t){return t===e});-1===t?this.editedOffer.imgs.push(e):this.editedOffer.imgs.splice(t,1)},tagChanged:function(e){this.tags=e,this.editedOffer.tags=e.map(function(e){return e.text}),this.searchPhotos()},setPlace:function(e){console.log(e),console.log(e.geometry.location.lat()),this.editedOffer.location.address=e.formatted_address,this.editedOffer.location.lat=e.geometry.location.lat(),this.editedOffer.location.lng=e.geometry.location.lng(),console.log("edited offer is now:",this.editedOffer)}},computed:{connectedUser:function(){return this.$store.getters.connectedUser}},components:{VueTagsInput:tt.a,DynamicList:Ke,DynamicCarousel:ut}},ft=lt,dt=(r("c28c"),Object(h["a"])(ft,He,qe,!1,null,null,null)),pt=dt.exports,mt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"login-container"},[r("section",{staticClass:"form-elegant w-auto p-5"},[r("mdb-row",{staticClass:"form-container"},[r("mdb-col",{attrs:{md:"5"}},[r("mdb-card",{staticClass:"form-card"},[r("mdb-card-body",{staticClass:"mx-3"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"dark-grey-text mb-4"},[r("strong",[e._v("Login")])])]),r("mdb-input",{attrs:{label:"Your Nickname",type:"text"},model:{value:e.credentials.nickName,callback:function(t){e.$set(e.credentials,"nickName",t)},expression:"credentials.nickName"}}),r("mdb-input",{attrs:{label:"Your password",type:"password",containerClass:"mb-0"},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),e.failedLoginTxt?r("p",{staticClass:"font-large red-text d-flex justify-content-start pb-1"},[e._v("\n              "+e._s(e.failedLoginTxt)+"\n            ")]):e._e(),r("p",{staticClass:"font-small blue-text d-flex justify-content-end pb-1"},[e._v("\n              Forgot\n              "),r("a",{staticClass:"blue-text ml-1",attrs:{href:"#"}},[e._v("Password?")])]),r("div",{staticClass:"text-center mb-2"},[r("mdb-btn",{staticClass:"btn-block z-depth-1a",attrs:{gradient:"blue",rounded:""},on:{click:e.loginUser}},[e._v("Login")])],1)],1),r("mdb-modal-footer",{staticClass:"mx-3 pt-3 mb-0"},[r("p",{staticClass:"font-small grey-text d-flex justify-content-end"},[e._v("\n              Not a member?\n              "),r("router-link",{staticClass:"blue-text ml-1",attrs:{to:"/sign-up"}},[e._v("Sign Up")])],1)])],1)],1)],1)],1)])},ht=[],gt={name:"login",data:function(){return{credentials:{nickName:"",password:"",showModal:!1},failedLoginTxt:""}},methods:{loginUser:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"doLogin",credentials:this.credentials});case 3:t=e.sent,t?this.$router.push("/explore"):console.log("no user found",t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this._handleErr(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),_handleErr:function(e){this.failedLoginTxt=e}},components:{mdbRow:Ue["j"],mdbCol:Ue["d"],mdbCard:Ue["b"],mdbCardBody:Ue["c"],mdbInput:Ue["e"],mdbBtn:Ue["a"],mdbModalFooter:Ue["h"]}},vt=gt,bt=(r("c142"),Object(h["a"])(vt,mt,ht,!1,null,"9bf5d694",null)),yt=bt.exports,wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile-container flex"},[e.currProfile&&e.showProfileSidebar?r("profile-sidebar",{attrs:{profile:e.currProfile}}):e._e(),r("profile-content")],1)},kt=[],Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"profile-content-container"},[r("router-view")],1)},xt=[],Ot={name:"ProfileContent"},_t=Ot,jt=(r("5df3c"),Object(h["a"])(_t,Ct,xt,!1,null,"0463a390",null)),It=jt.exports,Rt={name:"Profile",data:function(){return{currProfile:null,showProfileSidebar:!0}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.checkIfOfferDetails(),e.prev=1,e.next=4,this.$store.dispatch({type:"getProfile",nickName:this.$route.params.nickName});case 4:t=e.sent,this.currProfile=t,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("Error!",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),components:{ProfileSidebar:Fe,ProfileContent:It},methods:{checkIfOfferDetails:function(){this.$route.params.nickName&&this.$route.params.offerId?this.showProfileSidebar=!1:this.showProfileSidebar=!0}},watch:{$route:{handler:function(){this.checkIfOfferDetails()},deep:!0}}},Ut=Rt,St=(r("cb90"),Object(h["a"])(Ut,wt,kt,!1,null,"4e9b6a8c",null)),Pt=St.exports,Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currProfile?r("section",{staticClass:"profile-edit-container"},[r("header",[r("span",{staticClass:"fs32 strong"},[e._v("Hi, I'm "+e._s(e.currProfile.name))])]),r("body",{staticClass:"content"},[r("p",{staticClass:"fs18 strong"},[e._v("About me")]),r("span",[e._v(e._s(e.currProfile.aboutMe))])])]):e._e()},$t=[],Mt={name:"ProfileDetails",computed:{currProfile:function(){return this.$store.getters.currProfile}}},At=Mt,Tt=(r("68d7"),Object(h["a"])(At,Nt,$t,!1,null,"43e53c5b",null)),Lt=Tt.exports,Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.profileOffers?r("section",{staticClass:"profile-offers-container"},[r("span",{staticClass:"title fs24 strong"},[e._v(e._s(this.$store.getters.currProfile.name)+"'s offers:")]),r("OfferList",{attrs:{offers:e.profileOffers},on:{removeOffer:e.removeOffer}})],1):e._e()},Dt=[],Et={name:"ProfileOffers",data:function(){return{profileNickName:"",profileOffers:[],filter:{nickName:""}}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.profileNickName=this.$route.params.nickName,this.filter.nickName=this.profileNickName,e.prev=2,e.next=5,this.$store.dispatch({type:"loadOffers",filter:this.filter});case 5:t=e.sent,this.profileOffers=t,this.filter=null,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{removeOffer:function(e){this.$store.dispatch({type:"removeOffer",offerId:e})}},components:{OfferList:ie}},Ft=Et,Gt=(r("29c5"),Object(h["a"])(Ft,Bt,Dt,!1,null,"15582104",null)),zt=Gt.exports,Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.offer?r("div",{staticClass:"offer-details-container"},[r("header",[r("img",{attrs:{src:e.offer.imgs[0]}}),r("div",{staticClass:"show-all-overlay",on:{click:e.goToProfileOffers}},[r("span",{staticClass:"show-all-text"},[e._v("Show all offers from this person")])]),r("button",{staticClass:"btn-toggle-booking",on:{click:e.toggleBooking}},[e._v("Book to level up!")]),r("section",{staticClass:"header-overlay"},[r("h2",[e._v(e._s(e.offer.title))]),r("h3",{staticClass:"category"},[e._v(e._s(e.offer.category))]),r("ul",[r("li",[e.offer.minPeople>1?r("i",{staticClass:"header-icon fas fa-user-friends"}):r("i",{staticClass:"header-icon fas fa-user-alt"}),r("span",{staticClass:"header-icon-title"},[e._v(e._s(e.offer.minPeople))])]),r("li",[r("i",{staticClass:"header-icon far fa-clock"}),r("span",{staticClass:"header-icon-title"},[e._v(e._s(e._f("durationInMins")(e.offer.duration)))])]),r("li",[r("i",{staticClass:"header-icon fas fa-cogs"}),r("span",{staticClass:"header-icon-title"},[e._v(e._s(e.difficulty))])]),r("li",[e.offer.ratingAvg?r("i",{staticClass:"header-icon fas fa-star"}):r("i",{staticClass:"header-icon far fa-star"}),r("span",{staticClass:"header-icon-title"},[e._v(e._s(e._f("rating")(e.offer.rating.avgScore)))]),e.offer.ratingAvg?r("span",{staticClass:"header-icon-title"},[e._v("("+e._s(e.offer.rating.reviews.length)+" reviews)")]):e._e()])])])]),e.isBooking?r("bookingLevelUp",{on:{click:e.sendBookingReq,"close-booking-request":e.toggleBooking}}):e._e(),r("main",{staticClass:"content-wrapper"},[e.offer.requirements.length?r("div",{staticClass:"grid-item"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),r("h4",[e._v("Requirements")]),r("ul",e._l(e.offer.requirements,function(t,n){return r("li",{key:n},[e._v(e._s(t))])}),0)]):r("div",{staticClass:"grid-item not-included"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),r("h4",[e._v("No Requirements Stated")])]),r("div",{staticClass:"grid-item"},[r("i",{staticClass:"fas fa-info-circle"}),r("h4",[e._v("Description")]),r("p",[e._v(e._s(e.offer.description))])]),e.offer.whatsIncluded.length?r("div",{staticClass:"grid-item"},[r("i",{staticClass:"fas fa-box-open"}),r("h4",[e._v("Whats Included")]),r("ul",e._l(e.offer.whatsIncluded,function(t,n){return r("li",{key:n},[e._v(e._s(t))])}),0)]):r("div",{staticClass:"grid-item not-included"},[r("i",{staticClass:"fas fa-box-open"}),r("h4",[e._v("No Included Items Stated")])])]),r("section",{staticClass:"review-container"},[e.offer.rating.reviews.length?r("ReviewList",{attrs:{reviews:e.offer.rating.reviews}}):r("h4",[e._v("No Reviews Submitted At This Time")]),e.connectedUser?r("ReviewEdit",{staticClass:"review-edit",attrs:{status:e.reviewStatus},on:{"add-review":e.addReviewToOffer}}):e._e()],1)],1):e._e()},Jt=[],Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"levelup-booking fs14"},[e.connectedUser?r("form",{staticClass:"booking-form"},[r("h4",{staticClass:"text-center"},[e._v("Contact to levelup!")]),r("p",[e._v("Before you level up, please add some info about you so the person gets to know you better!")]),r("label",{attrs:{for:"reason"}},[e._v("What makes you want to get this skill?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.bookingReq.reason,expression:"bookingReq.reason"}],attrs:{id:"reason",type:"text"},domProps:{value:e.bookingReq.reason},on:{input:function(t){t.target.composing||e.$set(e.bookingReq,"reason",t.target.value)}}}),r("label",{attrs:{for:"availability"}},[e._v("Hows your availability?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.bookingReq.availability,expression:"bookingReq.availability"}],attrs:{id:"availability",type:"text"},domProps:{value:e.bookingReq.availability},on:{input:function(t){t.target.composing||e.$set(e.bookingReq,"availability",t.target.value)}}}),r("label",{attrs:{for:"extraInfo"}},[e._v("What more should this person know about you?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.bookingReq.extraInfo,expression:"bookingReq.extraInfo"}],attrs:{id:"extraInfo",type:"text"},domProps:{value:e.bookingReq.extraInfo},on:{input:function(t){t.target.composing||e.$set(e.bookingReq,"extraInfo",t.target.value)}}}),r("input",{staticClass:"level-up-btn",attrs:{id:"levelUp",value:"Level Me Up",type:"submit"},on:{click:function(t){return t.preventDefault(),e.sendBookingReq(t)}}}),r("p",{staticClass:"success-status"},[e._v(e._s(e.successStatus))])]):e.connectedUser?r("div",[e._v("\n    Your request has been sent, we will notify you\n  ")]):r("div",{staticClass:"login-msg fs18"},[e._v("\n    Level up requests are for registered users only.\n    "),r("br"),e._v("Please\n    "),r("router-link",{attrs:{to:"/sign-up"}},[e._v("sign-up")]),e._v("or\n    "),r("router-link",{attrs:{to:"/login"}},[e._v("login")]),e._v("first.\n  ")],1),r("button",{staticClass:"btn-toggle-booking",on:{click:e.toggleBooking}},[e._v("Close")])])},qt=[],Wt=r("5118"),Zt={data:function(){return{bookingReq:{reason:"",availability:"",extraInfo:""},alreadyBooked:!1,successStatus:"",socket:d()("localhost:3000")}},created:function(){console.log(this.inboxSent)},methods:{sendBookingReq:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.bookingReq.offer={offerId:this.$store.getters.getCurrOffer._id,offerTitle:this.$store.getters.getCurrOffer.title,offerType:this.$store.getters.getCurrOffer.type,offerImg:this.$store.getters.getCurrOffer.imgs[0]},this.bookingReq.offerMaker={makerId:this.$store.getters.currProfile._id,makerName:this.$store.getters.currProfile.name,makerImg:this.$store.getters.currProfile.imgUrl},this.bookingReq.bookingMaker={makerId:this.connectedUser._id,makerName:this.connectedUser.name,makerImg:this.connectedUser.imgUrl},this.bookingReq.offer.offerId!==this.bookingReq.bookingMaker.makerId){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$store.dispatch({type:"sendBookingReq",bookingReq:this.bookingReq});case 7:t=e.sent,this.startChat(t),this.socket.emit("level-up-req",t),this.successStatus="Your booking has been sent",Object(Wt["setTimeout"])(function(){r.toggleBooking()},1e3);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),startChat:function(e){var t={_id:this.connectedUser._id,imgUrl:this.connectedUser.imgUrl,name:this.connectedUser.name},r={_id:e.offerMaker.makerId,imgUrl:e.offerMaker.makerImg,name:e.offerMaker.makerName};this.socket.emit("start-chat",{user1:t,user2:r}),this.$store.commit({type:"startChat",user1:t,user2:r})},toggleBooking:function(){this.$emit("close-booking-request")}},computed:{connectedUser:function(){return this.$store.getters.connectedUser},inboxSent:function(){return this.$store.getters.inboxSent}}},Vt=Zt,Xt=(r("48ec"),Object(h["a"])(Vt,Ht,qt,!1,null,"5f6e98fe",null)),Qt=Xt.exports,Kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"review-list-wrapper"},[r("h4",{staticStyle:{"margin-top":"8px","font-weight":"600"}},[e._v("Reviews:")]),r("main",e._l(e.reviews,function(t,n){return r("div",{key:n},[r("button",{staticClass:"accordion",on:{click:function(t){return e.toggleReview(n)}}},[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"review-maker-image",style:e.getImage(t.maker.imgUrl)}),r("div",{staticClass:"title-time"},[r("p",[e._v(e._s(e._f("truncateText")(t.title,40)))]),r("div",{staticClass:"date-wrapper"},[r("i",{staticClass:"fas fa-clock"}),r("span",[e._v(e._s(e._f("formatDateFromNow")(t.createdAt)))])])])]),r("StarRating",{attrs:{rating:t.score,"round-start-rating":!1,"read-only":!0,"star-size":15}})],1),r("div",{ref:"panel",refInFor:!0,staticClass:"panel"},[r("p",[e._v("What they had to say:")]),r("p",[e._v(e._s(t.body))]),r("div",{staticClass:"title-date-wrapper"})])])}),0)])},er=[],tr=r("c1da"),rr=r.n(tr),nr={name:"ReviewList",props:{reviews:{type:Array}},computed:{},components:{StarRating:rr.a},methods:{toggleReview:function(e){var t=this.$refs.panel["".concat(e)];t.style.maxHeight&&"0px"!==t.style.maxHeight?t.style.maxHeight="0px":t.style.maxHeight=t.scrollHeight+"px"},getImage:function(e){return{"background-image":"url(".concat(e,")"),"background-size":"cover","background-position":"center","object-fit":"cover"}}}},sr=nr,ar=(r("7bcf"),Object(h["a"])(sr,Kt,er,!1,null,"59150700",null)),ir=ar.exports,or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"review-wrapper"},[r("h4",{staticStyle:{"margin-top":"8px","font-weight":"600"}},[e._v("Leave A Review!")]),r("label",{attrs:{for:"review-title"}},[e._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.review.title,expression:"review.title"}],staticClass:"form-control",attrs:{type:"text",id:"review-title",required:""},domProps:{value:e.review.title},on:{input:function(t){t.target.composing||e.$set(e.review,"title",t.target.value)}}}),r("StarRating",{attrs:{increment:1,"star-size":30,"text-class":"pretty-text"},model:{value:e.review.score,callback:function(t){e.$set(e.review,"score",t)},expression:"review.score"}}),r("div",[r("label",{attrs:{for:"exampleFormControlTextarea1"}},[e._v("What Did You Think Of The Lesson?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.body,expression:"review.body"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"5",required:""},domProps:{value:e.review.body},on:{input:function(t){t.target.composing||e.$set(e.review,"body",t.target.value)}}}),r("div",{staticClass:"btn-wrapper"},[r("button",{staticClass:"submit-review-btn",on:{click:e.emitRating}},[e._v("Submit")]),r("button",{staticClass:"submit-clear-btn",attrs:{color:"default"},on:{click:e.clearFields}},[e._v("Clear")]),r("div",{staticClass:"icon-container"},["submitting"===e.status?r("v-icon",{attrs:{name:"sync",spin:"",scale:"1.2"}}):"success"===e.status?r("span",{staticClass:"review-success-msg"},[r("v-icon",{staticClass:"success",attrs:{name:"check-circle",scale:"1.5"}}),e._v(" Review added")],1):"error"===e.status?r("v-icon",{staticClass:"failure",attrs:{name:"check-circle",scale:"1.5"}}):e._e()],1)])])],1)},cr=[],ur=(r("835f"),r("d88a"),r("fb39"),r("0874")),lr={mounted:function(){var e=this.$store.getters.connectedUser,t=e._id,r=e.name,n=e.nickName,s=e.imgUrl,a=e.email,i=e.age;this.review.maker={_id:t,name:r,nickName:n,imgUrl:s,email:a,age:i}},components:{StarRating:rr.a,"v-icon":ur["a"]},props:{status:{type:String}},data:function(){return{review:{body:"",score:0,maker:null}}},methods:{clearFields:function(){this.review.body="",this.review.title="",this.review.score=0},emitRating:function(){this.$emit("add-review",this.review)}}},fr=lr,dr=(r("35b9"),Object(h["a"])(fr,or,cr,!1,null,null,null)),pr=dr.exports,mr={name:"OfferDetails",data:function(){return{isBooking:!1,offer:null,connectedUser:null,reviewStatus:""}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params.offerId,!t){e.next=12;break}return e.prev=2,e.next=5,this.$store.dispatch({type:"getOfferById",offerId:t});case 5:r=e.sent,this.offer=r,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:this.connectedUser=this.$store.getters.connectedUser;case 13:case"end":return e.stop()}},e,this,[[2,9]])}));function t(){return e.apply(this,arguments)}return t}(),computed:{difficulty:function(){return 1===this.offer.difficulty?"Beginner level":2===this.offer.difficulty?"Intermediate level":"Advanced level"}},methods:{goToProfileOffers:function(){this.$router.push("/profile/".concat(this.offer.createdBy.nickName,"/offers"))},toggleBooking:function(){this.isBooking=!this.isBooking},sendBookingReq:function(e){this.isBooking=!1,e.offerId=this.offer._id,this.$store.dispatch({type:"sendBookingReq",bookingReq:e})},addReviewToOffer:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.reviewStatus="submitting",e.prev=1,e.next=4,this.$store.dispatch({type:"updateOfferWithNewReview",review:t,offer:this.offer});case 4:this.reviewStatus="success",e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log("error in adding review:",e.t0),this.reviewStatus="error";case 11:case"end":return e.stop()}},e,this,[[1,7]])}));function t(t){return e.apply(this,arguments)}return t}()},components:{bookingLevelUp:Qt,ReviewEdit:pr,ReviewList:ir}},hr=mr,gr=(r("9069"),Object(h["a"])(hr,Yt,Jt,!1,null,"3eec2a7d",null)),vr=gr.exports,br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("section",{staticClass:"user-profile-edit"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser(t)}}},[n("p",{staticClass:"h4 text-center mb-4"},[e._v("Edit")]),n("label",{staticClass:"grey-text",attrs:{for:"name-input"}},[e._v("Your Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name-input"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),n("br"),n("label",{staticClass:"grey-text",attrs:{for:"skill-input"}},[e._v("Skill Tags")]),n("vue-tags-input",{ref:"tagsInput",staticClass:"tag-input",attrs:{id:"skill-input",tags:e.skills},on:{"tags-changed":e.tagChanged},model:{value:e.skill,callback:function(t){e.skill=t},expression:"skill"}}),n("br"),n("label",{staticClass:"grey-text",attrs:{for:"city-input"}},[e._v("Enter Your City")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.city,expression:"user.city"}],staticClass:"form-control",attrs:{type:"text",id:"city-input"},domProps:{value:e.user.city},on:{input:function(t){t.target.composing||e.$set(e.user,"city",t.target.value)}}}),n("br"),n("div",[n("label",{attrs:{for:"age-input"}},[e._v("Your Age")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.user.age,expression:"user.age",modifiers:{number:!0}}],staticClass:"custom-range",attrs:{type:"range",id:"age-input",name:"age-input",min:"10",max:"120"},domProps:{value:e.user.age},on:{__r:function(t){e.$set(e.user,"age",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("span",[e._v(e._s(e.user.age))])]),n("br"),n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[e.imgIsUploading?n("img",{attrs:{src:r("3d71"),alt:""}}):e._e()])]),n("div",{staticClass:"custom-file"},[n("input",{ref:"myImg",staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01"},on:{change:e.getImgUrl}}),n("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[e._v("Choose file")])])]),n("br"),n("label",{staticClass:"grey-text",attrs:{for:"img-input"}},[e._v("Or Just Enter An Image Url")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.imgUrl,expression:"user.imgUrl"}],staticClass:"form-control",attrs:{type:"text",id:"img-input"},domProps:{value:e.user.imgUrl},on:{input:function(t){t.target.composing||e.$set(e.user,"imgUrl",t.target.value)}}}),n("br"),n("label",{staticClass:"grey-text",attrs:{for:"defaultFormContactMessageEx"}},[e._v("About Me")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user.aboutMe,expression:"user.aboutMe"}],staticClass:"form-control",staticStyle:{resize:"none"},attrs:{type:"text",id:"defaultFormContactMessageEx",rows:"3"},domProps:{value:e.user.aboutMe},on:{input:function(t){t.target.composing||e.$set(e.user,"aboutMe",t.target.value)}}}),e._m(0)],1)]):e._e()},yr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center mt-4"},[r("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"}},[e._v("\n        Update\n        "),r("i",{staticClass:"far fa-paper-plane ml-2"})])])}],wr=r("2f62"),kr=(r("55dd"),!0);function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"user/".concat(e)}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"auth/".concat(e)}function Or(){return _r.apply(this,arguments)}function _r(){return _r=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.prev=1,e.next=4,Cn.get(Cr(),t);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])})),_r.apply(this,arguments)}function jr(e){return Ir.apply(this,arguments)}function Ir(){return Ir=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.post(xr("login"),t);case 3:if(r=e.sent,!r){e.next=8;break}sessionStorage.setItem("loggedInUser",JSON.stringify(r)),e.next=9;break;case 8:throw new Error("Invalid Username or Password");case 9:return console.log(r),kr=!0,e.abrupt("return",r);case 14:throw e.prev=14,e.t0=e["catch"](0),console.log("in user service got err",e.t0.message),e.t0.message;case 18:case"end":return e.stop()}},e,null,[[0,14]])})),Ir.apply(this,arguments)}function Rr(){return Ur.apply(this,arguments)}function Ur(){return Ur=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.clear(),!kr){e.next=6;break}return kr=!1,e.next=6,Cn.get(xr("logout"));case 6:return e.abrupt("return","All Good");case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])})),Ur.apply(this,arguments)}function Sr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.get(Cr("user/"+t));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])})),Pr.apply(this,arguments)}function Nr(e){return $r.apply(this,arguments)}function $r(){return $r=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.post(xr("signup"),t);case 3:return r=e.sent,sessionStorage.setItem("loggedInUser",JSON.stringify(r)),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])})),$r.apply(this,arguments)}function Mr(e){return Ar.apply(this,arguments)}function Ar(){return Ar=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.delete(Cr("".concat(t)));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])})),Ar.apply(this,arguments)}function Tr(e){return Lr.apply(this,arguments)}function Lr(){return Lr=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.put(Cr(),t);case 3:return r=e.sent,sessionStorage.setItem("loggedInUser",JSON.stringify(r)),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])})),Lr.apply(this,arguments)}function Br(){return Dr.apply(this,arguments)}function Dr(){return Dr=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=JSON.parse(sessionStorage.getItem("loggedInUser")),!t){e.next=6;break}return e.abrupt("return",Promise.resolve(t));case 6:return e.abrupt("return",Promise.reject("No User Found"));case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])})),Dr.apply(this,arguments)}function Er(e){return Fr.apply(this,arguments)}function Fr(){return Fr=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.get(Cr()+"/msgs",t);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])})),Fr.apply(this,arguments)}function Gr(e,t){console.log("logging with",e,t);var r=JSON.parse(localStorage.getItem(t));r||(r=[]),r.push(e),localStorage.setItem(t,JSON.stringify(r))}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visitor",t=JSON.parse(localStorage.getItem(e));function r(e){return e.sort(function(t,r){return e.filter(function(e){return e===t}).length-e.filter(function(e){return e===r}).length}).pop()}return t||(localStorage.setItem(e,JSON.stringify([])),t=[]),r(t)}var Yr={login:jr,getProfileByNickname:Sr,add:Nr,remove:Mr,update:Tr,getUsers:Or,logout:Rr,checkIfLoggedIn:Br,logUserCategoryChoice:Gr,getUserPopularCategory:zr,getUserInbox:Er},Jr={state:{connectedUser:JSON.parse(sessionStorage.getItem("loggedInUser"))||null,currProfile:null},getters:{connectedUser:function(e){return e.connectedUser},currProfile:function(e){return e.currProfile},users:function(e){return e.users}},mutations:{setCurrUser:function(e,t){var r=t.loggedInUser;e.currUser=r},setCurrProfile:function(e,t){var r=t.user;e.currProfile=r},setUsers:function(e,t){var r=t.users;e.users=r},setConnectedUser:function(e,t){var r=t.user;e.connectedUser=r}},actions:{loadUsers:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yr.getUsers(r);case 3:n=e.sent,t.commit({type:"setUsers",users:n}),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),doLogin:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.credentials,e.prev=2,e.next=5,Yr.login(s);case 5:return a=e.sent,n({type:"setConnectedUser",user:a}),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),addUser:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.newUser,e.prev=2,e.next=5,Yr.add(s);case 5:return a=e.sent,n({type:"setConnectedUser",user:a}),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getProfile:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.nickName,e.prev=2,e.next=5,Yr.getProfileByNickname(s);case 5:return a=e.sent,n({type:"setCurrProfile",user:a}),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.userToUpdate,e.prev=2,e.next=5,Yr.update(s);case 5:return a=e.sent,n({type:"setConnectedUser",user:a}),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),doLogout:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Yr.logout();case 4:return n=e.sent,r({type:"setConnectedUser",user:null}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](1),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),checkIfLoggedInUser:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,Yr.checkIfLoggedIn();case 4:return n=e.sent,r({type:"setConnectedUser",user:n}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](1),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),logUserCategoryChoice:function(e,t){e.commit;var r=t.category,n=t.user;try{Yr.logUserCategoryChoice(r,n)}catch(s){console.log(s)}},getUserPopularCategory:function(e,t){e.commit;var r=t.user;try{var n=Yr.getUserPopularCategory(r);return n}catch(s){console.log("Could not get user popular categories,",s)}}}},Hr={query:qr,add:Wr,update:Zr,remove:Vr,getById:Xr,addReviewToOffer:Qr};function qr(e){return Cn.get(Kr(),e)}function Wr(e){return Cn.post(Kr(),e)}function Zr(e){return Cn.put(Kr(e._id),e)}function Vr(e){return Cn.delete(Kr(e))}function Xr(e){return Cn.get(Kr(e))}function Qr(e,t){e.rating||(e.rating={avgScore:0,reviews:[]}),t.createdAt=Date.now();var r=JSON.parse(JSON.stringify(t));e.rating.reviews.push(r);var n=e.rating.reviews.reduce(function(e,t){return console.log("lololol",t),e+=t.score,e},0);return console.log("Score Sum:",n),e.rating.avgScore=parseFloat(n/e.rating.reviews.length).toFixed(1),e}function Kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"offer/".concat(e)}var en=r("bc3a"),tn=r.n(en),rn={getRelatedPhotos:nn};function nn(e){return sn.apply(this,arguments)}function sn(){return sn=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tn.a.get("https://api.unsplash.com/search/photos?per_page=6&query=".concat(t,"&orientation=landscape&client_id=288fe127f571edeade19b623a9f4984d9341ea0fc8106452b64347c9203243f4"));case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data.results.map(function(e){return e.urls.full}));case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),sn.apply(this,arguments)}var an={state:{offers:[],currOffer:{}},getters:{getOffers:function(e){return e.offers},getCurrOffer:function(e){return e.currOffer}},mutations:{setOffers:function(e,t){var r=t.offers;e.offers=r},removeOffer:function(e,t){var r=t.offerId,n=e.offers.findIndex(function(e){return e._id===r});e.offers.splice(n,1)},addOffer:function(e,t){var r=t.offer;e.offers.unshift(r)},updateOffer:function(e,t){var r=t.newOffer,n=e.offers.findIndex(function(e){return e._id===r._id});e.offers.splice(n,1,r)},setCurrOffer:function(e,t){var r=t.offer;e.currOffer=r}},actions:{loadOffers:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.filter,s=void 0===n?"":n,a=r.noCommit,i=void 0!==a&&a,e.prev=1,e.next=4,Hr.query(s);case 4:if(o=e.sent,!i){e.next=7;break}return e.abrupt("return",o);case 7:return t.commit({type:"setOffers",offers:o}),e.abrupt("return",o);case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));function t(t,r){return e.apply(this,arguments)}return t}(),loadOffersNoCommit:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.filter,s=void 0===n?"":n,e.prev=1,e.next=4,Hr.query(s);case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),removeOffer:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.offerId,e.prev=1,e.next=4,Hr.remove(n);case 4:t.commit({type:"removeOffer",offerId:n}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),addOffer:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.newOffer,e.prev=1,e.next=4,Hr.add(n);case 4:t.commit({type:"addOffer",newOffer:n}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateOffer:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.newOffer,e.prev=1,e.next=4,Hr.update(n);case 4:t.commit({type:"updateOffer",newOffer:n}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getOfferById:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.offerId,e.prev=1,e.next=4,Hr.getById(n);case 4:return s=e.sent,t.commit({type:"setCurrOffer",offer:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),searchRelatedPhotos:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.searchTerm,e.prev=1,e.next=4,rn.getRelatedPhotos(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateOfferWithNewReview:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.review,a=r.offer,e.prev=2,i=Hr.addReviewToOffer(a,s),e.next=6,Hr.update(i);case 6:return o=e.sent,n({type:"updateOffer",newOffer:o}),e.abrupt("return",Promise.resolve());case 11:throw e.prev=11,e.t0=e["catch"](2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));function t(t,r){return e.apply(this,arguments)}return t}()}},on={add:cn,update:fn,getUserInbox:un};function cn(e){return Cn.post(pn(),e)}function un(e){return ln.apply(this,arguments)}function ln(){return ln=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.get(pn()+"/inbox",{id:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),ln.apply(this,arguments)}function fn(e){return dn.apply(this,arguments)}function dn(){return dn=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Cn.put(pn(),t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),dn.apply(this,arguments)}function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"booking/".concat(e)}var mn={state:{offers:[],inboxSent:[],inboxRecieved:[],currOffer:{},unreadMsgs:0,isBooking:!1},getters:{getIsBooking:function(e){return e.isBooking},unreadMsgs:function(e){return e.unreadMsgs},inboxRecieved:function(e){return e.inboxRecieved},inboxSent:function(e){return e.inboxSent}},mutations:{setIsBooked:function(e){e.isBooking=!1},addNotification:function(e){e.unreadMsgs++},addBooking:function(e,t){var r=t.booking;JSON.parse(sessionStorage.getItem("loggedInUser"))._id===r.createdBy._id?e.inboxSent.unshift(r):e.inboxRecieved.unshift(r)},updateBooking:function(e,t){var r=t.booking,n=0;JSON.parse(sessionStorage.getItem("loggedInUser"))._id===r.createdBy._id?(n=e.inboxSent.findIndex(function(e){return e._id===r._id}),e.inboxSent.splice(n,1,r)):(n=e.inboxRecieved.findIndex(function(e){return e._id===r._id}),e.inboxRecieved.splice(n,1,r))},removeNotification:function(e){e.unreadMsgs=0},setUserInbox:function(e,t){var r=t.inbox,n=t.connectedUserId,s=[],a=[];r.forEach(function(e){e.createdBy._id===n?s.push(e):a.push(e)}),e.inboxSent=[].concat(s),e.inboxRecieved=[].concat(a)}},actions:{getInbox:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.connectedUserId,e.prev=1,e.next=4,on.getUserInbox(n);case 4:return s=e.sent,t.commit({type:"setUserInbox",inbox:s,connectedUserId:n}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),sendBookingReq:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.bookingReq,e.prev=1,e.next=4,on.add(n);case 4:return s=e.sent,a=s.booking,t.commit({type:"addBooking",booking:a}),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](1),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),sendConfirm:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.booking,e.prev=1,e.next=4,on.update(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}()}},hn=r("75fc"),gn=(r("7514"),{state:{chats:[]},getters:{chats:function(e){return e.chats}},mutations:{startChat:function(e,t){var r=t.user1,n=t.user2,s=e.chats.find(function(e){return e.members[0]._id===n._id||e.members[1]._id===n._id});s||e.chats.push({members:[r,n],isShown:!0,msgs:[]})},showChat:function(e,t){var r=t.toId,n=e.chats.find(function(e){return e.members.find(function(e){return e._id===r})});n&&(n.isShown=!n.isShown)},addMsg:function(e,t){var r=t.msg,n=e.chats.find(function(e){return e.members[0]._id===r.to._id||e.members[1]._id===r.to._id});n.isShown=!0,n.msgs.push(r)},closeChat:function(e,t){var r=t.chat;r.isShown=!1},addChat:function(e,t){var r=t.to,n=t.from;e.chats.push({to:r,from:n,msgs:[]})},pushHistory:function(e,t){var r,n=t.history;(r=e.chats).push.apply(r,Object(hn["a"])(n))}},actions:{sendMsg:function(e,t){var r=e.commit,n=t.msg;return r({type:"addMsg",msg:n}),n},closeChat:function(e,t){var r=e.commit,n=t.idx;r({type:"closeChat",idx:n})}}});n["default"].use(wr["a"]);var vn=new wr["a"].Store({modules:{userStore:Jr,offerStore:an,bookingStore:mn,chatStore:gn}}),bn="/api/",yn=tn.a.create({withCredentials:!0});function wn(e){return kn.apply(this,arguments)}function kn(){return kn=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r,n,s,a,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,s=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,yn({url:"".concat(bn).concat(t),method:r,data:n,params:s});case 6:return a=e.sent,e.abrupt("return",a.data);case 10:e.prev=10,e.t0=e["catch"](3),401===e.t0.response.status&&(Jn.push("/login"),vn.dispatch({type:"doLogout"}));case 13:case"end":return e.stop()}},e,null,[[3,10]])})),kn.apply(this,arguments)}var Cn={get:function(e,t){return wn(e,"GET",null,t)},post:function(e,t){return wn(e,"POST",t)},put:function(e,t){return wn(e,"PUT",t)},delete:function(e,t){return wn(e,"DELETE",t)}};function xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cloudinary/".concat(e)}function On(e){return _n.apply(this,arguments)}function _n(){return _n=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("imgUpload",t),e.prev=2,e.next=5,Cn.post(xn(),r);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](2),e.t0;case 12:case"end":return e.stop()}},e,null,[[2,9]])})),_n.apply(this,arguments)}var jn={uploadImgToCloud:On},In={created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.nickName,e.next=3,this.$store.dispatch({type:"getProfile",nickName:t});case 3:r=e.sent,this.user=r,this.skills=this.user.skillTags.map(function(e){var t={text:e,tiClasses:["ti-valid"]};return t});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{skill:"",skills:[],imgIsUploading:!1,user:null}},computed:{},methods:{tagChanged:function(e){console.log(e);var t=e.map(function(e){return e.text});this.user.skillTags=t},getImgUrl:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.imgIsUploading=!this.imgIsUploading,r=t.target.files[0],e.next=5,jn.uploadImgToCloud(r);case 5:n=e.sent,this.user.imgUrl=n,this.imgIsUploading=!this.imgIsUploading,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("couldnt generate ImgUrl");case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(t){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"updateUser",userToUpdate:this.user});case 3:t=e.sent,console.log(t.name,"Was Successfully Updated!"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("couldnt update user got err:",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()},components:{VueTagsInput:tt.a}},Rn=In,Un=(r("56ca"),Object(h["a"])(Rn,br,yr,!1,null,"71326a38",null)),Sn=Un.exports,Pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"signup-container"},[r("section",{staticClass:"form-elegant w-auto p-3"},[r("mdb-row",{staticClass:"form-container"},[r("mdb-col",{attrs:{md:"5"}},[r("mdb-card",{staticClass:"form-card"},[r("mdb-card-body",{staticClass:"mx-3"},[r("div",{staticClass:"text-center"},[r("h3",{staticClass:"dark-grey-text mb-4"},[r("strong",{staticClass:"fs22"},[e._v("Sign-up")])])]),r("mdb-input",{attrs:{label:"Name",type:"text",required:""},on:{input:function(t){return e.buildNickname()}},model:{value:e.newUser.name,callback:function(t){e.$set(e.newUser,"name",t)},expression:"newUser.name"}}),r("mdb-input",{attrs:{label:"Email Address",type:"email"},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),r("mdb-input",{attrs:{label:"Nickname",type:"text",required:""},model:{value:e.newUser.nickName,callback:function(t){e.$set(e.newUser,"nickName",t)},expression:"newUser.nickName"}}),r("mdb-input",{class:e.passwordsMatch,attrs:{label:"Password",type:"password",containerClass:"mb-0"},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}}),r("mdb-input",{class:e.passwordsMatch,attrs:{label:"Repeat Password",type:"password",containerClass:"mb-0"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),r("div",{staticClass:"text-center mb-2"},[r("mdb-btn",{staticClass:"fs18 btn-block z-depth-1a",attrs:{type:"submit",gradient:"blue",rounded:""},on:{click:e.registerNewUser}},[e._v("Sign up")])],1)],1)],1)],1)],1)],1)])},Nn=[],$n=(r("28a5"),r("f7fe")),Mn=r.n($n),An={data:function(){return{newUser:{name:"",nickName:"",profileUrl:"",email:"",password:"",contactInfo:{},socialInfo:{},imgUrl:"",skillTags:[],city:"",intro:"",offers:[],interestedIn:[],leveledUpIn:[],ratingAvg:0,aboutMe:"",age:25},confirmPassword:""}},methods:{buildNickname:Mn()(function(){var e=this.newUser.name.split(" ").join("");this.newUser.nickName=e},500),registerNewUser:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.newUser.password===this.confirmPassword){e.next=3;break}return alert("Passwords Do Not Match!"),e.abrupt("return");case 3:return e.next=5,this.$store.dispatch({type:"addUser",newUser:this.newUser});case 5:this.$router.push("/");case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),goToLogin:function(){this.$router.push("/login")}},computed:{passwordsMatch:function(){return this.newUser.password!==this.confirmPassword?"pass-not-match":"pass-match"}},components:{mdbRow:Ue["j"],mdbCol:Ue["d"],mdbCard:Ue["b"],mdbCardBody:Ue["c"],mdbInput:Ue["e"],mdbBtn:Ue["a"]}},Tn=An,Ln=(r("8c4b"),Object(h["a"])(Tn,Pn,Nn,!1,null,"85251a86",null)),Bn=Ln.exports,Dn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"inbox-content"},[r("span",{staticClass:"content-title fs18"},[e._v("Bookings sent")]),e.inboxSent.length?r("ul",{staticClass:"inbox-received"},e._l(e.inboxSent,function(t,n){return r("li",{key:n},[r("div",{staticClass:"left-layout"},[r("span",{staticClass:"offer-title strong"},[e._v(e._s(t.offer.offerTitle))]),r("img",{attrs:{src:t.offer.offerImg}})]),r("div",{staticClass:"right-layout"},[r("div",{staticClass:"offer-creator"},[r("img",{attrs:{src:t.offerMaker.makerImg,alt:""}}),r("p",[e._v(e._s(t.offerMaker.makerName))])]),"pending"===t.isConfirmed?r("p",[e._v("Status: Pending")]):r("p",[e._v("Status: Confirmed")]),r("button",{staticClass:"start-chat-btn",on:{click:function(r){return e.startChat(t.offerMaker.makerId)}}},[e._v("start chat")])])])}),0):r("p",[e._v("Nothing to show yet")]),r("span",{staticClass:"content-title fs18"},[e._v("Bookings received")]),e.inboxRecieved.length?r("ul",{staticClass:"inbox-received"},e._l(e.inboxRecieved,function(t,n){return r("li",{key:n,staticClass:"inbox-preview"},[r("div",{staticClass:"left-layout"},[r("span",{staticClass:"offer-title"},[e._v(e._s(t.offer.offerTitle))]),r("img",{attrs:{src:t.offer.offerImg,width:"100px",alt:""}})]),r("div",{staticClass:"right-layout"},[r("div",{staticClass:"right-user-details"},[r("p",[e._v(e._s(t.bookingMaker.makerName))]),"pending"===t.isConfirmed?r("div",{staticClass:"confirm-buttons"},[r("button",{staticClass:"confirm-btn",on:{click:function(r){return r.stopPropagation(),e.sendConfirm(t,!0)}}},[e._v("Confirm")]),r("button",{staticClass:"notnow-btn",on:{click:function(r){return r.stopPropagation(),e.sendConfirm(t,!1)}}},[e._v("Not now")])]):e._e()]),r("div",{staticClass:"action-btns"},[r("button",{staticClass:"start-chat-btn",on:{click:function(r){return e.startChat(t.bookingMaker.makerId)}}},[e._v("start chat")]),r("span",{staticClass:"fs12"},[e._v(e._s(e._f("formatDate")(t.sentAt)))])])])])}),0):r("p",[e._v("Nothing to show yet")])])},En=[],Fn={data:function(){return{socket:d()("localhost:3000")}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"getInbox",connectedUserId:this.connectedUser._id});case 3:this.$store.commit({type:"removeNotification"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),computed:{connectedUser:function(){return this.$store.getters.connectedUser},inboxSent:function(){return this.$store.getters.inboxSent},inboxRecieved:function(){return this.$store.getters.inboxRecieved}},methods:{sendConfirm:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.isConfirmed=r,e.next=3,this.$store.dispatch({type:"sendConfirm",booking:t});case 3:this.socket.emit("req-updated",t);case 4:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),startChat:function(e){console.log(e),this.$store.commit({type:"showChat",toId:e})}}},Gn=Fn,zn=(r("eae6"),Object(h["a"])(Gn,Dn,En,!1,null,"7ec8ca32",null)),Yn=zn.exports;n["default"].use(Y["a"]);var Jn=new Y["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:le},{path:"/explore",name:"Explore",component:Oe},{path:"/profile",name:"Profile",component:Pt,children:[{path:"/edit/:_id?",name:"OfferEdit",component:pt},{path:":nickName",name:"ProfileDetails",component:Lt},{path:":nickName/edit",name:"ProfileEdit",component:Sn},{path:":nickName/inbox",name:"Inbox",component:Yn},{path:":nickName/offers",name:"ProfileOffers",component:zt},{path:":nickName/:offerId?",name:"OfferDetails",component:vr}]},{path:"/login",name:"Login",component:yt},{path:"/sign-up",name:"SignUp",component:Bn},{path:"/about",name:"about",component:Je},{path:"/map",name:"MapView",component:$e}]}),Hn=r("c1df"),qn=r.n(Hn);n["default"].filter("durationInMins",function(e){var t=qn.a.duration(e,"minutes"),r=t._data.hours,n=t._data.minutes;return r&&n?r+"h "+n+"m":r&&!n?r+"h":n+"m"}),n["default"].filter("formatDate",function(e){return qn()(e).calendar()}),n["default"].filter("formatDateFromNow",function(e){return qn()(e).calendar(Date.now())}),n["default"].filter("rating",function(e){return e?(e=+e,e+"/5"):"Not rated yet"}),n["default"].filter("truncateText",function(e,t){return e.length>=t?e.substring(0,t)+"...":e});var Wn=r("9483");Object(Wn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Zn=r("95ae"),Vn=r("e956"),Xn=r.n(Vn),Qn=r("755e"),Kn=r("05c2");n["default"].use(Xn.a),n["default"].use(Zn["a"]),n["default"].use(at.a),n["default"].use(r("2ead")),n["default"].use(Kn["VueSpinners"]),n["default"].use(Qn,{load:{key:"AIzaSyAmsVJlq870Mn6SV5kjYlGRR5ssyKxVw58",libraries:"places"}}),n["default"].config.productionTip=!1,new n["default"]({router:Jn,store:vn,render:function(e){return e(z)}}).$mount("#app")},"5df3c":function(e,t,r){"use strict";var n=r("2e30"),s=r.n(n);s.a},6234:function(e,t,r){"use strict";var n=r("663b"),s=r.n(n);s.a},"663b":function(e,t,r){},"68d7":function(e,t,r){"use strict";var n=r("36ae"),s=r.n(n);s.a},"6cd8":function(e,t,r){},"7a30":function(e,t,r){"use strict";var n=r("869b"),s=r.n(n);s.a},"7b2c":function(e,t,r){},"7bcf":function(e,t,r){"use strict";var n=r("ff3c"),s=r.n(n);s.a},8441:function(e,t,r){},"84c7":function(e,t,r){"use strict";var n=r("12b2"),s=r.n(n);s.a},"869b":function(e,t,r){},"8c4b":function(e,t,r){"use strict";var n=r("073e"),s=r.n(n);s.a},"8cf8":function(e,t,r){},"8f2b":function(e,t,r){},9069:function(e,t,r){"use strict";var n=r("078a"),s=r.n(n);s.a},"98d6":function(e,t,r){"use strict";var n=r("9a8d"),s=r.n(n);s.a},"9a8d":function(e,t,r){},"9d47":function(e,t,r){},a56f:function(e,t,r){"use strict";var n=r("d7cf"),s=r.n(n);s.a},a96e:function(e,t,r){"use strict";var n=r("503e"),s=r.n(n);s.a},aa90:function(e,t,r){"use strict";var n=r("8441"),s=r.n(n);s.a},aede:function(e,t,r){},b4e1:function(e,t,r){"use strict";var n=r("8cf8"),s=r.n(n);s.a},bb62:function(e,t,r){},c142:function(e,t,r){"use strict";var n=r("9d47"),s=r.n(n);s.a},c28c:function(e,t,r){"use strict";var n=r("ebb4"),s=r.n(n);s.a},c553:function(e,t,r){},c957:function(e,t,r){},c9b1:function(e,t,r){"use strict";var n=r("192b"),s=r.n(n);s.a},cb90:function(e,t,r){"use strict";var n=r("6cd8"),s=r.n(n);s.a},cce6:function(e,t,r){"use strict";var n=r("c957"),s=r.n(n);s.a},d001:function(e,t,r){"use strict";var n=r("7b2c"),s=r.n(n);s.a},d6c9:function(e,t,r){e.exports=r.p+"img/levelup-v5.4516eefb.png"},d7cf:function(e,t,r){},dd6b:function(e,t,r){"use strict";var n=r("8f2b"),s=r.n(n);s.a},eae6:function(e,t,r){"use strict";var n=r("192a"),s=r.n(n);s.a},ebb4:function(e,t,r){},eed1:function(e,t,r){},f334:function(e,t,r){"use strict";var n=r("3c43"),s=r.n(n);s.a},ff3c:function(e,t,r){}});
//# sourceMappingURL=app.5241e9f7.js.map